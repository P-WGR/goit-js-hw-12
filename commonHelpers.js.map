{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const searchInput = document.querySelector('#searchBar');\n  const searchButton = document.querySelector('button');\n  const gallery = document.querySelector('#gallery');\n\n  let lightbox = new SimpleLightbox('.gallery-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionPosition: 'bottom',\n    enableKeyboard: true,\n    showCounter: true,\n    animationSpeed: 250,\n    preloading: true,\n    overlayOpacity: 0.7,\n    className: 'simple-lightbox',\n  });\n\n  lightbox.on('show.simplelightbox', () => {\n    console.log('Lightbox opened');\n  });\n\n  lightbox.on('error.simplelightbox', e => {\n    console.error('Lightbox error:', e);\n  });\n\n  const showIziToast = message => {\n    iziToast.show({\n      message,\n      messageSize: '16px',\n      backgroundColor: 'rgba(239, 64, 64, 1)',\n      messageColor: 'white',\n      iconColor: 'white',\n      progressBarColor: 'rgba(181, 27, 27, 1)',\n      close: true,\n      position: 'topRight',\n    });\n  };\n\n  const loader = document.querySelector('.loader');\n\n  const fetchImages = () => {\n    const query = searchInput.value.trim();\n    if (!query) return;\n\n    const apiUrl = `https://pixabay.com/api/?key=21797660-d1d29527b0a34b4e6394998e6&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    gallery.innerHTML = '';\n\n    loader.classList.remove('hidden');\n\n    fetch(apiUrl)\n      .then(response => response.json())\n      .then(data => {\n        loader.classList.add('hidden');\n\n        gallery.innerHTML = '';\n\n        if (data.totalHits === 0) {\n          showIziToast(\n            'Sorry, there are no images matching your search query. Please try again!'\n          );\n          return;\n        }\n\n        const createImagePropertyElement = (\n          className,\n          labelText,\n          valueText\n        ) => {\n          const li = document.createElement('li');\n          li.className = className;\n\n          const textSpan = document.createElement('span');\n          textSpan.className = `${className}Text`;\n          textSpan.textContent = labelText;\n\n          const valueSpan = document.createElement('span');\n          valueSpan.className = `${className}Value`;\n          valueSpan.textContent = valueText;\n\n          li.appendChild(textSpan);\n          li.appendChild(valueSpan);\n\n          return li;\n        };\n\n        const imageElements = data.hits.map(\n          ({\n            webformatURL,\n            largeImageURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n          }) => {\n            const li = document.createElement('li');\n            li.className = 'gallery-item';\n\n            const link = document.createElement('a');\n            link.className = 'gallery-link';\n            link.href = largeImageURL;\n\n            const img = document.createElement('img');\n            img.src = webformatURL;\n            img.alt = tags;\n            img.className = 'gallery-image';\n\n            link.appendChild(img);\n            li.appendChild(link);\n\n            const imageProperties = document.createElement('ul');\n            imageProperties.className = 'image-properties';\n\n            imageProperties.appendChild(\n              createImagePropertyElement('likes', 'Likes', likes)\n            );\n            imageProperties.appendChild(\n              createImagePropertyElement('views', 'Views', views)\n            );\n            imageProperties.appendChild(\n              createImagePropertyElement('comments', 'Comments', comments)\n            );\n            imageProperties.appendChild(\n              createImagePropertyElement('downloads', 'Downloads', downloads)\n            );\n\n            li.appendChild(imageProperties);\n            return li;\n          }\n        );\n\n        imageElements.forEach(element => gallery.appendChild(element));\n\n        lightbox.refresh();\n\n        console.log({ totalHits: data.totalHits, images: data.hits });\n      })\n      .catch(error => {\n        loader.classList.add('hidden');\n        console.error('Error fetching images:', error);\n      });\n  };\n\n  searchButton.addEventListener('click', event => {\n    event.preventDefault();\n    fetchImages();\n  });\n});\n"],"names":["searchInput","searchButton","gallery","lightbox","SimpleLightbox","e","showIziToast","message","iziToast","loader","fetchImages","query","apiUrl","response","data","createImagePropertyElement","className","labelText","valueText","li","textSpan","valueSpan","webformatURL","largeImageURL","tags","likes","views","comments","downloads","link","img","imageProperties","element","error","event"],"mappings":"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"}